# Changelog

## [1.0.1] - 2024-03-14

### Changed
- Заменен Webhook Agent на Post Agent для корректной отправки данных на внешние webhook URL
- Переименована колонка в БД с `huginn_webhook_agent_id` на `huginn_post_agent_id`
- Обновлены модели, сервисы и схемы для работы с Post Agent

### Technical Details

#### Database Changes
- Создана миграция `004_rename_webhook_agent_to_post_agent.py` для переименования колонки
- Обновлена модель Channel для использования нового названия колонки

#### Service Changes
- В `HuginnClient` добавлен метод `create_post_agent()` вместо `create_webhook_agent()`
- Обновлена конфигурация агента для корректной отправки данных:
  - Тип агента изменен на `Agents::PostAgent`
  - Добавлена настройка форматирования payload
  - Настроены правильные заголовки для отправки JSON
- В `ChannelService` обновлены методы для работы с Post Agent

#### Schema Changes
- Обновлена схема `ChannelResponse` для отражения нового названия поля

### Причины изменений
1. Webhook Agent в Huginn предназначен для приема входящих webhook-запросов
2. Post Agent специально создан для отправки данных на внешние URL
3. Новая реализация лучше соответствует задаче по пересылке контента на указанные клиентом URL

### Преимущества Post Agent
- Специализированный агент для отправки HTTP запросов
- Гибкая настройка форматирования данных
- Поддержка различных HTTP методов
- Возможность настройки заголовков
- Встроенная обработка ответов от сервера 